# 100_サービス概要

## 1. プロジェクト概要

### 1.1 サービス名・目的
**Travel Memory（TraMemo）**は、個人の旅行記録を地図と写真で管理し、他のユーザーと共有できるSNS機能を持つWebアプリケーションです。地図上での旅行ルート表示、写真付きの詳細記録、他ユーザーとの旅行体験共有を通じて、旅行の思い出をより豊かに保存・活用することを目的としています。

### 1.2 ターゲットユーザー
- 国内・海外旅行愛好者
- 旅行記録をデジタル化したい人
- 他の人の旅行体験を参考にしたい人
- 写真と地図で思い出を整理したい人

### 1.3 主要機能
- **旅行記録の作成・編集・削除**（写真・地図・コメント付き）
- **地図連携**（Google Maps API使用、ルート表示）
- **SNS機能**（いいね・お気に入り・コメント・シェア）
- **画像管理**（GCP Cloud Storage連携、サムネイル自動生成）
- **データエクスポート**（Excel出力）
- **AI連携**（ChatGPT APIによる旅行提案）
- **検索・フィルター機能**

---

## 2. システムアーキテクチャ

### 2.1 全体構成図
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Frontend      │    │   Backend       │    │  External APIs  │
│   (React/Vite)  │───▶│   (Laravel)     │───▶│  Google Maps    │
│   Port: 5173    │    │   Port: 8000    │    │  ChatGPT API    │
└─────────────────┘    └─────────────────┘    └─────────────────┘
          │                        │                        
          │                        │                        
          ▼                        ▼                        
┌─────────────────┐    ┌─────────────────┐                 
│   Cloud CDN     │    │   GCP Services  │                 
│   (CDN)         │    │   - Cloud Storage (Images) │                 
└─────────────────┘    │   - Cloud SQL (MySQL) │                 
                        │   - Cloud Run (API)   │                 
                        └─────────────────┘                 
```

### 2.2 アーキテクチャの特徴
- **SPA (Single Page Application)**: React + Viteによるモダンなフロントエンド
- **RESTful API**: LaravelによるAPI中心設計
- **マイクロサービス指向**: フロントエンドとバックエンドの完全分離
- **クラウドネイティブ**: GCP各種サービスを活用したスケーラブル構成
- **コンテナ化**: Docker + Cloud Runによる効率的なデプロイ

---

## 3. 技術仕様

### 3.1 フロントエンド技術スタック
| 技術 | バージョン | 用途 |
|------|-----------|------|
| React | ^18.0.0 | UIライブラリ |
| Vite | ^4.0.0 | ビルドツール |
| TypeScript | ^5.0.0 | 型安全性 |
| TailwindCSS | ^3.0.0 | CSSフレームワーク |
| React Router | ^6.0.0 | ルーティング |
| Axios | ^1.0.0 | HTTP通信 |
| React Query | ^4.0.0 | データフェッチング・キャッシュ |
| React Hook Form | ^7.0.0 | フォーム管理 |
| Leaflet/Google Maps | latest | 地図表示 |

### 3.2 バックエンド技術スタック
| 技術 | バージョン | 用途 |
|------|-----------|------|
| Laravel | ^12.0 | PHPフレームワーク |
| PHP | ^8.1 | 実行環境 |
| MySQL | ^8.0 | データベース |
| Laravel Sanctum | ^3.0 | API認証 |
| Laravel Socialite | ^5.0 | SNSログイン |
| Laravel Excel | ^3.1 | Excel出力 |
| Intervention Image | ^2.7 | 画像処理 |
| Guzzle HTTP | ^7.0 | HTTP通信（外部API） |

### 3.3 インフラ・外部サービス（GCP）
| サービス | 用途 |
|----------|------|
| Cloud Run | アプリケーションサーバー（フロントエンド・バックエンド） |
| Cloud SQL (MySQL) | データベース |
| Cloud Storage | 画像ストレージ |
| Cloud CDN | 静的ファイル・画像配信 |
| Cloud Load Balancing | ロードバランサー（独自ドメイン/SSL対応時） |
| Cloud Monitoring/Logging | 監視・ログ管理 |
| Secret Manager | 機密情報管理 |
| Google Maps API | 地図・位置情報 |
| OpenAI API | AI機能 |

### 3.4 認証・セキュリティ
| サービス | 用途 |
|----------|------|
| Clerk | 認証・ユーザー管理 |
| Laravel Sanctum | API認証 |
| Laravel Socialite | SNSログイン |

---

## 4. 今後の拡張計画

### 4.1 Phase 5: モバイルアプリ開発
- React Native での iOS/Android アプリ開発
- プッシュ通知機能
- オフライン対応

### 4.2 Phase 6: 高度なAI機能
- 画像認識による自動タグ付け
- 旅行ルート最適化AI
- パーソナライズされた旅行提案

### 4.3 Phase 7: コミュニティ機能
- ユーザー間メッセージング
- グループ旅行計画機能
- 旅行仲間マッチング

### 4.4 Phase 8: 収益化
- プレミアムプラン（高品質画像保存、詳細分析）
- 旅行関連商品のアフィリエイト
- 広告配信システム

---

## 5. 技術的アピールポイント

### 5.1 アーキテクチャ設計
- **DDD（ドメイン駆動設計）**の採用による保守性・拡張性の向上
    - ビジネスロジックをドメイン層に集約し、変更や機能追加時の影響範囲を最小化。将来的な要件変更にも柔軟に対応可能な設計を実現しています。
- **レイヤードアーキテクチャ**による責務の明確な分離
    - プレゼンテーション層、アプリケーション層、ドメイン層、インフラ層を分離し、各層の責務を明確化。テスト容易性や再利用性を高めています。
- **マイクロサービス指向**によるスケーラビリティの確保
    - フロントエンドとバックエンドを完全分離し、独立したスケーリングやデプロイが可能。将来的なサービス分割や機能拡張にも対応しやすい構成です。

### 5.2 クラウドネイティブ
- **GCP Cloud Run**によるサーバーレスアーキテクチャ
    - インフラ管理の手間を最小化し、トラフィックに応じた自動スケーリングを実現。コスト効率と可用性を両立しています。
- **コンテナ化**による開発・本番環境の一貫性
    - Dockerを活用し、ローカル・CI/CD・本番環境で同一の動作保証。環境差異によるトラブルを防止します。
- **オートスケーリング**によるコスト最適化
    - アクセス量に応じて自動的にリソースを増減し、無駄なコストを抑制。小規模から大規模まで柔軟に対応可能です。

### 5.3 モダンな技術スタック
- **React 18** + **TypeScript**による型安全なフロントエンド開発
    - 型安全性と開発効率を両立し、バグの早期発見や保守性向上に寄与しています。
- **Vite**による高速な開発体験
    - モダンなビルドツールViteを採用し、ホットリロードやビルド速度の高速化を実現。開発体験を大幅に向上させています。
- **Laravel 12**による堅牢なバックエンドAPI
    - 最新のPHPフレームワークを活用し、セキュリティ・パフォーマンス・拡張性に優れたAPIを構築しています。
- **TailwindCSS**による効率的なUI開発
    - ユーティリティファーストなCSS設計で、デザインの一貫性と開発スピードを両立しています。

### 5.4 セキュリティ・運用
- **Clerk**による最新の認証システム
    - 外部認証サービスを活用し、セキュアかつ利便性の高いユーザー認証・管理を実現しています。
- **Secret Manager**による機密情報の安全な管理
    - 環境変数やAPIキーなどの機密情報をGCP Secret Managerで一元管理し、漏洩リスクを最小化しています。
- **Cloud Monitoring**による包括的な監視体制
    - GCPの監視・ロギングサービスを活用し、障害検知やパフォーマンス監視、運用効率化を実現しています。

---

*（最終更新日: 2024-07-xx）* 